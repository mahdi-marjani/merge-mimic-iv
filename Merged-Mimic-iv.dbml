Table merged_table_admission_day {
  subject_id        integer    [pk]                             // کلید بیمار
  hadm_id           integer    [pk]                             // کلید بستری بیمار
  day_index         integer    [pk, note: 'شاخص روز در بستری (از روز اول: 0)']

  admittime            datetime   [note: 'from admissions']
  dischtime            datetime   [note: 'from admissions']
  deathtime            datetime   [note: 'from admissions']
  admission_type       varchar    [note: 'from admissions']
  admit_provider_id    varchar    [note: 'from admissions']
  admission_location   varchar    [note: 'from admissions']
  discharge_location   varchar    [note: 'from admissions']
  insurance            varchar    [note: 'from admissions']
  language             varchar    [note: 'from admissions']
  marital_status       varchar    [note: 'from admissions']
  race                 varchar    [note: 'from admissions']
  edregtime            datetime   [note: 'from admissions']
  edouttime            datetime   [note: 'from admissions']
  hospital_expire_flag integer    [note: 'from admissions']

  stay_id               integer  [note: 'from icustays']
  first_careunit        varchar  [note: 'from icustays']
  last_careunit         varchar  [note: 'from icustays']
  icustays_intime       datetime [note: 'from icustays']
  icustays_outtime      datetime [note: 'from icustays']
  los                   double   [note: 'from icustays']

  all_vanco_charttime  datetime [note: 'from all_vanco']
  all_vanco_value      varchar  [note: 'from all_vanco']
  all_vanco_valuenum   double   [note: 'from all_vanco']
  all_vanco_valueuom   varchar  [note: 'from all_vanco']
  all_vanco_flag       varchar  [note: 'from all_vanco']

  chartevents_2999_col   data  [note: 'from chartevents']

  diag_n             integer  [note: 'from diagnoses_icd']
  diag_codes         varchar  [note: 'from diagnoses_icd']
  diag_descs         integer  [note: 'from d_icd_diagnoses']
  primary_diag_code  integer  [note: 'from diagnoses_icd']
  primary_diag_desc  integer  [note: 'from d_icd_diagnoses']
  diag_1_code        integer  [note: 'from diagnoses_icd']
  diag_2_code        integer  [note: 'from diagnoses_icd']
  diag_3_code        integer  [note: 'from diagnoses_icd']
  diag_4_code        integer  [note: 'from diagnoses_icd']
  diag_5_code        integer  [note: 'from diagnoses_icd']
  diag_1_desc        integer  [note: 'from d_icd_diagnoses']
  diag_2_desc        integer  [note: 'from d_icd_diagnoses']
  diag_3_desc        integer  [note: 'from d_icd_diagnoses']
  diag_4_desc        integer  [note: 'from d_icd_diagnoses']
  diag_5_desc        integer  [note: 'from d_icd_diagnoses']

  proc_count           integer  [note: 'from procedures_icd']
  last_proc_charttime  datetime [note: 'from procedures_icd']
  proc_codes           varchar  [note: 'from procedures_icd']
  proc_titles          integer  [note: 'from d_icd_procedures']

  drg_severity_max        varchar [note: 'from drgcodes']
  drg_mortality_max       varchar [note: 'from drgcodes']
  drg_type_chosen         text    [note: 'from drgcodes']
  drg_code_chosen         double  [note: 'from drgcodes']
  drg_description_chosen  double  [note: 'from drgcodes']
  drg_severity_chosen     double  [note: 'from drgcodes']
  drg_mortality_chosen    double  [note: 'from drgcodes']

  transfers_eventtype    integer  [note: 'from transfers']
  transfers_careunit     varchar  [note: 'from transfers']
  transfers_intime       varchar  [note: 'from transfers']
  transfers_outtime      datetime [note: 'from transfers']
  services_prev_service  datetime [note: 'from services']
  services_curr_service  varchar  [note: 'from services']
  services_transfertime  varchar  [note: 'from services']

  presc_orders_count    varchar  [note: 'from prescriptions']
  presc_first_start     varchar  [note: 'from prescriptions']
  presc_last_stop       varchar  [note: 'from prescriptions']
  presc_last_drug       varchar  [note: 'from prescriptions']
  presc_last_route      varchar  [note: 'from prescriptions']
  presc_max_dose        varchar  [note: 'from prescriptions']
  presc_max_strength    varchar  [note: 'from prescriptions']
  presc_doses_per_24h   varchar  [note: 'from prescriptions']
  pharm_dispense_count  varchar  [note: 'from pharmacy']
  pharm_first_start     varchar  [note: 'from pharmacy']
  pharm_last_stop       varchar  [note: 'from pharmacy']
  pharm_last_med        varchar  [note: 'from pharmacy']
  pharm_last_route      varchar  [note: 'from pharmacy']
  pharm_max_fill_qty    varchar  [note: 'from pharmacy']
  emar_events_count     varchar  [note: 'from emar']
  emar_admin_count      varchar  [note: 'from emar']
  emar_last_event       varchar  [note: 'from emar']
  emar_last_med         varchar  [note: 'from emar']
  emar_last_charttime   varchar  [note: 'from emar']

  ing_events_count         varchar  [note: 'from ingredientevents']
  ing_total_amount         varchar  [note: 'from ingredientevents']
  ing_max_rate             varchar  [note: 'from ingredientevents']
  ing_last_itemid          varchar  [note: 'from ingredientevents']
  ing_last_status          varchar  [note: 'from ingredientevents']
  input_events_count       varchar  [note: 'from inputevents']
  input_total_amount       varchar  [note: 'from inputevents']
  input_totalamount_field  varchar  [note: 'from inputevents']
  input_max_rate           varchar  [note: 'from inputevents']
  input_last_ordercat      varchar  [note: 'from inputevents']
  input_last_status        varchar  [note: 'from inputevents']
  proc_events_count        varchar  [note: 'from procedureevents']
  proc_max_value           varchar  [note: 'from procedureevents']
  proc_last_valueuom       varchar  [note: 'from procedureevents']
  proc_last_location       varchar  [note: 'from procedureevents']
  proc_last_category       varchar  [note: 'from procedureevents']

  micro_Unnamed              integer  [note: 'from microbiologyevents']
  micro_microevent_id        integer  [note: 'from microbiologyevents']
  micro_micro_specimen_id    integer  [note: 'from microbiologyevents']
  micro_order_provider_id    integer  [note: 'from microbiologyevents']
  micro_chartdate            integer  [note: 'from microbiologyevents']
  micro_charttime            integer  [note: 'from microbiologyevents']
  micro_spec_itemid          integer  [note: 'from microbiologyevents']
  micro_spec_type_desc       integer  [note: 'from microbiologyevents']
  micro_test_seq             integer  [note: 'from microbiologyevents']
  micro_storedate            integer  [note: 'from microbiologyevents']
  micro_storetime            integer  [note: 'from microbiologyevents']
  micro_test_itemid          integer  [note: 'from microbiologyevents']
  micro_test_name            integer  [note: 'from microbiologyevents']
  micro_org_itemid           integer  [note: 'from microbiologyevents']
  micro_org_name             integer  [note: 'from microbiologyevents']
  micro_isolate_num          integer  [note: 'from microbiologyevents']
  micro_quantity             integer  [note: 'from microbiologyevents']
  micro_ab_itemid            integer  [note: 'from microbiologyevents']
  micro_ab_name              integer  [note: 'from microbiologyevents']
  micro_dilution_text        integer  [note: 'from microbiologyevents']
  micro_dilution_comparison  integer  [note: 'from microbiologyevents']
  micro_dilution_value       integer  [note: 'from microbiologyevents']
  micro_interpretation       integer  [note: 'from microbiologyevents']
  micro_comments             integer  [note: 'from microbiologyevents']
  
  datetimeevents_190_col   data  [note: 'from datetimeevents']

  outputevents_77_col   data  [note: 'from outputevents']

  itemid_other_labs   integer  [note: 'from other_labs_raw']
  charttime_other_labs datetime [note: 'from other_labs_raw']
  value_other_labs    varchar  [note: 'from other_labs_raw']
  valuenum_other_labs double   [note: 'from other_labs_raw']
  valueuom_other_labs varchar  [note: 'from other_labs_raw']
  flag_other_labs     varchar  [note: 'from other_labs_raw']

  poe_id_poe          varchar [note: 'from poe']
  poe_seq_poe         integer [note: 'from poe']
  ordertime_poe       datetime [note: 'from poe']
  order_type_poe      varchar [note: 'from poe']
  order_subtype_poe   varchar [note: 'from poe']
  transaction_type_poe varchar [note: 'from poe']
  discontinue_of_poe_id_poe varchar [note: 'from poe']
  discontinued_by_poe_id_poe varchar [note: 'from poe']
  order_provider_id_poe varchar [note: 'from poe']
  order_status_poe    varchar [note: 'from poe']

  //////////////////////
  // ستون‌های اضافه‌شده از جدول patients (فقط مهم‌ها)
  //////////////////////
  dob_patient         date     [note: 'date of birth from patients (may be shifted in MIMIC)']
  gender_patient      varchar  [note: 'from patients']
  age_at_admit        integer  [note: 'floor(years) at admittime; derived: admittime - dob_patient']

  //////////////////////
  // ستون‌های اضافه‌شده از caregivers (فقط برچسب/نام کاربردی)
  //////////////////////
  caregiver_label_ingredient    varchar [note: 'label/role lookup for caregiver_id_ingredient (from caregivers)']
  caregiver_label_input         varchar [note: 'label/role lookup for caregiver_id_input (from caregivers)']
  caregiver_label_output        varchar [note: 'label/role lookup for caregiver_id_output (from caregivers)']
  caregiver_label_procedure     varchar [note: 'label/role lookup for caregiver_id_procedure (from caregivers)']
  caregiver_label_emar          varchar [note: 'label/role lookup for pharmacy_id_emar or caregiver if available']

  //////////////////////
  // ستون‌های اضافه‌شده از دیکشنری d_icd_diagnoses (توضیحات کد)
  //////////////////////
  icd_description_diagnoses     varchar [note: 'long_title mapping for icd_code_diagnoses from d_icd_diagnoses']
  icd_description_procedures    varchar [note: 'long_title mapping for icd_code_procedures from d_icd_procedures']

  //////////////////////
  // ستون‌های اضافه‌شده از HCPCS / hcpcsevents (فقط کد/توضیح کاربردی)
  //////////////////////
  hcpcs_code_event              varchar [note: 'HCPCS/CPT-like code if present (from hcpcsevents / d_hcpcs)']
  hcpcs_description_event       varchar [note: 'human-readable description for hcpcs_code_event (from d_hcpcs)']

  indexes {
    (subject_id, hadm_id, day_index) [pk]  // تعریف کلید اصلی مرکب:contentReference[oaicite:2]{index=2}
  }
}
